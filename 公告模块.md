##  公告模块
基础URL: `http://localhost:8080/api/announcements`

### 1 获取活动公告
- **URL**: `http://localhost:8080/api/announcements/public`
- **方法**: GET
- **描述**: 获取所有已发布且未过期的公告
- **响应**:
```json
{
  "success": true,
  "message": "操作成功",
  "data": [
    {
      "id": 1,
      "title": "系统上线通知",
      "content": "农业气象系统正式上线...",
      "type": 1,
      "status": 1,
      "publishTime": "2023-06-01T09:00:00",
      "expireTime": "2023-12-31T23:59:59",
      "createdAt": "2023-05-30T15:00:00"
    },
    {
      "id": 2,
      "title": "气象预警",
      "content": "未来三天可能有强降雨...",
      "type": 2,
      "status": 1,
      "publishTime": "2023-06-05T09:00:00",
      "expireTime": "2023-06-08T23:59:59",
      "createdAt": "2023-06-04T15:00:00"
    }
  ]
}
```
- **测试用例**:
  - 获取所有活动公告
  - 当没有活动公告时的响应

### 2 根据类型获取活动公告
- **URL**: `http://localhost:8080/api/announcements/public/type/{type}`
- **方法**: GET
- **描述**: 根据类型获取活动公告
- **路径参数**:
  - `type`: 公告类型（1-系统公告，2-预警通知）
- **响应**:
```json
{
  "success": true,
  "message": "操作成功",
  "data": [
    {
      "id": 2,
      "title": "气象预警",
      "content": "未来三天可能有强降雨...",
      "type": 2,
      "status": 1,
      "publishTime": "2023-06-05T09:00:00",
      "expireTime": "2023-06-08T23:59:59",
      "createdAt": "2023-06-04T15:00:00"
    }
  ]
}
```
- **测试用例**:
  - 获取特定类型的公告
  - 获取不存在类型的公告
  - 特定类型没有公告时的响应

### 3 获取公告详情
- **URL**: `http://localhost:8080/api/announcements/public/{id}`
- **方法**: GET
- **描述**: 获取公告的详细内容
- **路径参数**:
  - `id`: 公告ID
- **响应**:
```json
{
  "success": true,
  "message": "操作成功",
  "data": {
    "id": 1,
    "title": "系统上线通知",
    "content": "农业气象系统正式上线，提供多种气象数据和预警信息...",
    "type": 1,
    "status": 1,
    "publishTime": "2023-06-01T09:00:00",
    "expireTime": "2023-12-31T23:59:59",
    "createdAt": "2023-05-30T15:00:00"
  }
}
```
- **测试用例**:
  - 获取存在的公告详情
  - 获取不存在的公告详情
  - 获取已过期公告的详情

### 4 创建公告（管理员）
- **URL**: `http://localhost:8080/api/announcements`
- **方法**: POST
- **描述**: 管理员创建新公告
- **请求头**: Authorization: Bearer {token}
- **请求体**:
```json
{
  "title": "新功能上线",
  "content": "我们新增了历史数据查询功能...",
  "type": 1,
  "status": 0,
  "publishTime": "2023-06-15T09:00:00",
  "expireTime": "2023-07-15T23:59:59"
}
```
- **响应**:
```json
{
  "success": true,
  "message": "公告创建成功",
  "data": {
    "id": 3,
    "title": "新功能上线",
    "content": "我们新增了历史数据查询功能...",
    "type": 1,
    "status": 0,
    "publishTime": "2023-06-15T09:00:00",
    "expireTime": "2023-07-15T23:59:59",
    "createdAt": "2023-06-10T15:00:00"
  }
}
```
- **测试用例**:
  - 创建草稿公告
  - 创建立即发布的公告
  - 创建没有过期时间的公告
  - 普通用户尝试创建公告

### 5 更新公告（管理员）
- **URL**: `http://localhost:8080/api/announcements/{id}`
- **方法**: PUT
- **描述**: 管理员更新现有公告
- **请求头**: Authorization: Bearer {token}
- **路径参数**:
  - `id`: 公告ID
- **请求体**:
```json
{
  "title": "新功能上线（更新）",
  "content": "我们新增了历史数据查询和导出功能...",
  "type": 1,
  "status": 0,
  "publishTime": "2023-06-20T09:00:00",
  "expireTime": "2023-07-20T23:59:59"
}
```
- **响应**:
```json
{
  "success": true,
  "message": "公告更新成功",
  "data": {
    "id": 3,
    "title": "新功能上线（更新）",
    "content": "我们新增了历史数据查询和导出功能...",
    "type": 1,
    "status": 0,
    "publishTime": "2023-06-20T09:00:00",
    "expireTime": "2023-07-20T23:59:59",
    "createdAt": "2023-06-10T15:00:00"
  }
}
```
- **测试用例**:
  - 更新草稿公告
  - 更新已发布公告
  - 更新已过期公告
  - 更新不存在的公告
  - 普通用户尝试更新公告

### 6 发布公告（管理员）
- **URL**: `http://localhost:8080/api/announcements/{id}/publish`
- **方法**: PUT
- **描述**: 管理员将草稿公告发布上线
- **请求头**: Authorization: Bearer {token}
- **路径参数**:
  - `id`: 公告ID
- **响应**:
```json
{
  "success": true,
  "message": "公告已发布",
  "data": {
    "id": 3,
    "title": "新功能上线（更新）",
    "content": "我们新增了历史数据查询和导出功能...",
    "type": 1,
    "status": 1,
    "publishTime": "2023-06-20T09:00:00",
    "expireTime": "2023-07-20T23:59:59",
    "createdAt": "2023-06-10T15:00:00"
  }
}
```
- **测试用例**:
  - 发布草稿公告
  - 发布已经发布的公告
  - 发布不存在的公告
  - 普通用户尝试发布公告

### 7 删除公告（管理员）
- **URL**: `http://localhost:8080/api/announcements/{id}`
- **方法**: DELETE
- **描述**: 管理员删除公告
- **请求头**: Authorization: Bearer {token}
- **路径参数**:
  - `id`: 公告ID
- **响应**:
```json
{
  "success": true,
  "message": "公告已删除",
  "data": null
}
```
- **测试用例**:
  - 删除草稿公告
  - 删除已发布公告
  - 删除不存在的公告
  - 普通用户尝试删除公告

### 8 获取所有公告（分页，管理员）
- **URL**: `http://localhost:8080/api/announcements`
- **方法**: GET
- **描述**: 管理员获取所有公告（包括草稿、已发布、已过期）
- **请求头**: Authorization: Bearer {token}
- **查询参数**:
  - `page`: 页码（默认0）
  - `size`: 每页数量（默认20）
  - `sort`: 排序字段（默认createdAt,desc）
- **响应**:
```json
{
  "success": true,
  "message": "操作成功",
  "data": {
    "content": [
      {
        "id": 3,
        "title": "新功能上线",
        "content": "我们新增了历史数据查询功能...",
        "type": 1,
        "status": 0,
        "publishTime": "2023-06-15T09:00:00",
        "expireTime": "2023-07-15T23:59:59",
        "createdAt": "2023-06-10T15:00:00"
      },
      {
        "id": 2,
        "title": "气象预警",
        "content": "未来三天可能有强降雨...",
        "type": 2,
        "status": 1,
        "publishTime": "2023-06-05T09:00:00",
        "expireTime": "2023-06-08T23:59:59",
        "createdAt": "2023-06-04T15:00:00"
      },
      {
        "id": 1,
        "title": "系统上线通知",
        "content": "农业气象系统正式上线...",
        "type": 1,
        "status": 1,
        "publishTime": "2023-06-01T09:00:00",
        "expireTime": "2023-12-31T23:59:59",
        "createdAt": "2023-05-30T15:00:00"
      }
    ],
    "pageable": {
      "sort": {
        "sorted": true,
        "unsorted": false,
        "empty": false
      },
      "pageNumber": 0,
      "pageSize": 20,
      "offset": 0,
      "paged": true,
      "unpaged": false
    },
    "totalElements": 3,
    "totalPages": 1,
    "last": true,
    "first": true,
    "sort": {
      "sorted": true,
      "unsorted": false,
      "empty": false
    },
    "numberOfElements": 3,
    "size": 20,
    "number": 0,
    "empty": false
  }
}
```
- **测试用例**:
  - 管理员获取所有公告
  - 测试分页功能（获取第2页）
  - 测试排序功能（按发布时间排序）
  - 普通用户尝试访问此接口

### 9 根据类型获取公告（分页，管理员）
- **URL**: `http://localhost:8080/api/announcements/type/{type}`
- **方法**: GET
- **描述**: 管理员根据类型获取公告
- **请求头**: Authorization: Bearer {token}
- **路径参数**:
  - `type`: 公告类型（1-系统公告，2-预警通知）
- **查询参数**:
  - `page`: 页码（默认0）
  - `size`: 每页数量（默认20）
  - `sort`: 排序字段（默认createdAt,desc）
- **响应**:
```json
{
  "success": true,
  "message": "操作成功",
  "data": {
    "content": [
      {
        "id": 2,
        "title": "气象预警",
        "content": "未来三天可能有强降雨...",
        "type": 2,
        "status": 1,
        "publishTime": "2023-06-05T09:00:00",
        "expireTime": "2023-06-08T23:59:59",
        "createdAt": "2023-06-04T15:00:00"
      }
    ],
    "pageable": {
      "sort": {
        "sorted": true,
        "unsorted": false,
        "empty": false
      },
      "pageNumber": 0,
      "pageSize": 20,
      "offset": 0,
      "paged": true,
      "unpaged": false
    },
    "totalElements": 1,
    "totalPages": 1,
    "last": true,
    "first": true,
    "sort": {
      "sorted": true,
      "unsorted": false,
      "empty": false
    },
    "numberOfElements": 1,
    "size": 20,
    "number": 0,
    "empty": false
  }
}
```
- **测试用例**:
  - 获取特定类型的公告
  - 获取不存在类型的公告
  - 特定类型没有公告时的响应
  - 普通用户尝试访问此接口

### 10 根据状态获取公告（分页，管理员）
- **URL**: `http://localhost:8080/api/announcements/status/{status}`
- **方法**: GET
- **描述**: 管理员根据状态获取公告
- **请求头**: Authorization: Bearer {token}
- **路径参数**:
  - `status`: 公告状态（0-草稿，1-已发布）
- **查询参数**:
  - `page`: 页码（默认0）
  - `size`: 每页数量（默认20）
  - `sort`: 排序字段（默认createdAt,desc）
- **响应**:
```json
{
  "success": true,
  "message": "操作成功",
  "data": {
    "content": [
      {
        "id": 3,
        "title": "新功能上线",
        "content": "我们新增了历史数据查询功能...",
        "type": 1,
        "status": 0,
        "publishTime": "2023-06-15T09:00:00",
        "expireTime": "2023-07-15T23:59:59",
        "createdAt": "2023-06-10T15:00:00"
      }
    ],
    "pageable": {
      "sort": {
        "sorted": true,
        "unsorted": false,
        "empty": false
      },
      "pageNumber": 0,
      "pageSize": 20,
      "offset": 0,
      "paged": true,
      "unpaged": false
    },
    "totalElements": 1,
    "totalPages": 1,
    "last": true,
    "first": true,
    "sort": {
      "sorted": true,
      "unsorted": false,
      "empty": false
    },
    "numberOfElements": 1,
    "size": 20,
    "number": 0,
    "empty": false
  }
}
```
- **测试用例**:
  - 获取草稿状态的公告
  - 获取已发布状态的公告
  - 获取不存在状态的公告
  - 普通用户尝试访问此接口