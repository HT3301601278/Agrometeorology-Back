##  系统模块
基础URL: `http://localhost:8080/api/admin`

### 1 获取所有用户（分页）
- **URL**: `http://localhost:8080/api/admin/users`
- **方法**: GET
- **描述**: 获取所有用户的列表（分页）
- **请求头**: Authorization: Bearer {token}
- **查询参数**:
  - `page`: 页码（默认0）
  - `size`: 每页数量（默认20）
  - `sort`: 排序字段（默认createdAt,desc）
- **响应**:
```json
{
  "code": 200,
  "message": "操作成功",
  "data": {
    "content": [
      {
        "id": 1,
        "username": "张三",
        "email": "zhangsan@example.com",
        "nickname": "小张",
        "phone": "13800138000",
        "status": true,
        "createdAt": "2023-06-01T10:00:00"
      },
      {
        "id": 2,
        "username": "李四",
        "email": "lisi@example.com",
        "nickname": "小李",
        "phone": "13700137000",
        "status": true,
        "createdAt": "2023-06-02T10:00:00"
      }
    ],
    "pageable": {
      "sort": {
        "sorted": true,
        "unsorted": false,
        "empty": false
      },
      "pageNumber": 0,
      "pageSize": 20,
      "offset": 0,
      "paged": true,
      "unpaged": false
    },
    "totalElements": 2,
    "totalPages": 1,
    "last": true,
    "first": true,
    "sort": {
      "sorted": true,
      "unsorted": false,
      "empty": false
    },
    "numberOfElements": 2,
    "size": 20,
    "number": 0,
    "empty": false
  }
}
```
- **测试用例**:
  - 管理员获取所有用户
  - 测试分页功能（获取第2页）
  - 测试排序功能（按用户名排序）
  - 普通用户尝试访问此接口

### 2 获取所有系统配置（分页）
- **URL**: `http://localhost:8080/api/admin/configs`
- **方法**: GET
- **描述**: 获取所有系统配置项（分页）
- **请求头**: Authorization: Bearer {token}
- **查询参数**:
  - `page`: 页码（默认0）
  - `size`: 每页数量（默认20）
  - `sort`: 排序字段（默认id,asc）
- **响应**:
```json
{
  "code": 200,
  "message": "操作成功",
  "data": {
    "content": [
      {
        "id": 1,
        "key": "API_KEY",
        "value": "sk-abcdef123456",
        "description": "第三方API密钥"
      },
      {
        "id": 2,
        "key": "DATA_FETCH_INTERVAL",
        "value": "30",
        "description": "数据拉取间隔（分钟）"
      }
    ],
    "pageable": {
      "sort": {
        "sorted": true,
        "unsorted": false,
        "empty": false
      },
      "pageNumber": 0,
      "pageSize": 20,
      "offset": 0,
      "paged": true,
      "unpaged": false
    },
    "totalElements": 2,
    "totalPages": 1,
    "last": true,
    "first": true,
    "sort": {
      "sorted": true,
      "unsorted": false,
      "empty": false
    },
    "numberOfElements": 2,
    "size": 20,
    "number": 0,
    "empty": false
  }
}
```
- **测试用例**:
  - 管理员获取所有配置
  - 测试分页功能（获取第2页）
  - 普通用户尝试访问此接口

### 3 保存系统配置
- **URL**: `http://localhost:8080/api/admin/configs`
- **方法**: POST
- **描述**: 创建或更新系统配置项
- **请求头**: Authorization: Bearer {token}
- **请求体**:
```json
{
  "key": "SITE_NAME",
  "value": "农业气象系统",
  "description": "网站名称"
}
```
- **响应**:
```json
{
  "code": 200,
  "message": "配置保存成功",
  "data": {
    "id": 3,
    "key": "SITE_NAME",
    "value": "农业气象系统",
    "description": "网站名称"
  }
}
```
- **测试用例**:
  - 创建新配置
  - 更新现有配置
  - 创建没有描述的配置
  - 普通用户尝试访问此接口

### 4 删除系统配置
- **URL**: `http://localhost:8080/api/admin/configs/{key}`
- **方法**: DELETE
- **描述**: 删除系统配置项
- **请求头**: Authorization: Bearer {token}
- **路径参数**:
  - `key`: 配置键名
- **响应**:
```json
{
  "code": 200,
  "message": "配置删除成功",
  "data": null
}
```
- **测试用例**:
  - 删除存在的配置
  - 删除不存在的配置
  - 普通用户尝试访问此接口

### 5 获取API Key配置
- **URL**: `http://localhost:8080/api/admin/configs/api-key`
- **方法**: GET
- **描述**: 获取系统中配置的API Key
- **请求头**: Authorization: Bearer {token}
- **响应**:
```json
{
	"code": 200,
	"message": "操作成功",
	"data": {
		"apiKey": "70d450a133448f61ff96d837368aa775"
	}
}
```
- **测试用例**:
  - 管理员获取API Key
  - 获取不存在的API Key
  - 普通用户尝试访问此接口

### 6 保存API Key配置
- **URL**: `http://localhost:8080/api/admin/configs/api-key`
- **方法**: POST
- **描述**: 设置或更新系统的API Key
- **请求头**: Authorization: Bearer {token}
- **请求体**:
```json
{
  "apiKey": "sk-abcdef123456"
}
```
- **响应**:
```json
{
  "code": 200,
  "message": "API Key已保存",
  "data": null
}
```
- **测试用例**:
  - 设置新的API Key
  - 更新现有API Key
  - 普通用户尝试访问此接口

### 7 获取数据拉取频率配置
- **URL**: `http://localhost:8080/api/admin/configs/fetch-interval`
- **方法**: GET
- **描述**: 获取系统中配置的数据拉取频率（分钟）
- **请求头**: Authorization: Bearer {token}
- **响应**:
```json
{
	"code": 200,
	"message": "操作成功",
	"data": {
		"interval": 5
	}
}
```
- **测试用例**:
  - 管理员获取拉取频率
  - 获取不存在的拉取频率配置
  - 普通用户尝试访问此接口

### 8 保存数据拉取频率配置
- **URL**: `http://localhost:8080/api/admin/configs/fetch-interval`
- **方法**: POST
- **描述**: 设置或更新系统的数据拉取频率
- **请求头**: Authorization: Bearer {token}
- **请求体**:
```json
{
  "interval": 30
}
```
- **响应**:
```json
{
  "code": 200,
  "message": "数据拉取频率已设置",
  "data": null
}
```
- **测试用例**:
  - 设置新的拉取频率
  - 更新现有拉取频率
  - 设置无效的拉取频率（如负数）
  - 普通用户尝试访问此接口

### 9 获取邮件配置
- **URL**: `http://localhost:8080/api/admin/configs/email`
- **方法**: GET
- **描述**: 获取系统中配置的邮件服务器信息
- **请求头**: Authorization: Bearer {token}
- **响应**:
```json
{
	"code": 200,
	"message": "操作成功",
	"data": {
		"password": "wgmhkoaqrnrabgja",
		"starttls": "false",
		"port": "465",
		"auth": "true",
		"host": "smtp.qq.com",
		"username": "482396642@qq.com"
	}
}
```
- **测试用例**:
  - 管理员获取邮件配置
  - 获取不存在的邮件配置
  - 普通用户尝试访问此接口

### 10 保存邮件配置
- **URL**: `http://localhost:8080/api/admin/configs/email`
- **方法**: POST
- **描述**: 设置或更新系统的邮件服务器配置
- **请求头**: Authorization: Bearer {token}
- **请求体**:
```json
{
  "host": "smtp.example.com",
  "port": 587,
  "username": "admin@example.com",
  "password": "password123",
  "auth": true,
  "startTls": true
}
```
- **响应**:
```json
{
  "code": 200,
  "message": "邮件配置已保存",
  "data": null
}
```
- **测试用例**:
  - 设置新的邮件配置
  - 更新现有邮件配置
  - 使用无效的端口号
  - 普通用户尝试访问此接口

### 11 发送系统通知
- **URL**: `http://localhost:8080/api/admin/notifications`
- **方法**: POST
- **描述**: 管理员向所有用户发送系统通知
- **请求头**: Authorization: Bearer {token}
- **请求体**:
```json
{
  "title": "系统维护通知",
  "content": "系统将于2023年6月10日22:00-24:00进行维护，期间可能无法访问。"
}
```
- **响应**:
```json
{
	"code": 200,
	"message": "系统通知已发送",
	"data": null
}
```
- **测试用例**:
  - 发送有效的系统通知
  - 发送没有标题的通知
  - 发送内容为空的通知
  - 普通用户尝试访问此接口