##  通知模块
基础URL: `http://localhost:8080/api/notifications`

### 1 获取当前用户通知（分页）
- **URL**: `http://localhost:8080/api/notifications`
- **方法**: GET
- **描述**: 获取当前登录用户的所有通知
- **请求头**: Authorization: Bearer {token}
- **查询参数**:
  - `page`: 页码（默认0）
  - `size`: 每页数量（默认20）
  - `sort`: 排序字段（默认createdAt,desc）
- **响应**:
```json
{
  "success": true,
  "message": "操作成功",
  "data": {
    "content": [
      {
        "id": 1,
        "title": "系统通知",
        "content": "欢迎使用农业气象系统",
        "type": 1,
        "isRead": true,
        "userId": 1,
        "createdAt": "2023-06-01T10:30:00"
      },
      {
        "id": 2,
        "title": "气象预警",
        "content": "您关注的地区未来24小时有强降雨",
        "type": 2,
        "isRead": false,
        "userId": 1,
        "createdAt": "2023-06-05T09:30:00"
      }
    ],
    "pageable": {
      "sort": {
        "sorted": true,
        "unsorted": false,
        "empty": false
      },
      "pageNumber": 0,
      "pageSize": 20,
      "offset": 0,
      "paged": true,
      "unpaged": false
    },
    "totalElements": 2,
    "totalPages": 1,
    "last": true,
    "first": true,
    "sort": {
      "sorted": true,
      "unsorted": false,
      "empty": false
    },
    "numberOfElements": 2,
    "size": 20,
    "number": 0,
    "empty": false
  }
}
```
- **测试用例**:
  - 获取当前用户的所有通知
  - 测试分页功能（获取第2页）
  - 未登录用户尝试访问此接口

### 2 获取未读通知
- **URL**: `http://localhost:8080/api/notifications/unread`
- **方法**: GET
- **描述**: 获取当前登录用户的所有未读通知
- **请求头**: Authorization: Bearer {token}
- **响应**:
```json
{
  "success": true,
  "message": "操作成功",
  "data": {
    "count": 1,
    "notifications": [
      {
        "id": 2,
        "title": "气象预警",
        "content": "您关注的地区未来24小时有强降雨",
        "type": 2,
        "isRead": false,
        "userId": 1,
        "createdAt": "2023-06-05T09:30:00"
      }
    ]
  }
}
```
- **测试用例**:
  - 获取有未读通知的用户的未读通知
  - 获取没有未读通知的用户的未读通知
  - 未登录用户尝试访问此接口

### 3 获取未读通知数量
- **URL**: `http://localhost:8080/api/notifications/unread/count`
- **方法**: GET
- **描述**: 获取当前登录用户的未读通知数量
- **请求头**: Authorization: Bearer {token}
- **响应**:
```json
{
  "success": true,
  "message": "操作成功",
  "data": {
    "count": 1
  }
}
```
- **测试用例**:
  - 获取有未读通知的用户的未读通知数量
  - 获取没有未读通知的用户的未读通知数量
  - 未登录用户尝试访问此接口

### 4 将通知标记为已读
- **URL**: `http://localhost:8080/api/notifications/{id}/read`
- **方法**: PUT
- **描述**: 将指定通知标记为已读
- **请求头**: Authorization: Bearer {token}
- **路径参数**:
  - `id`: 通知ID
- **响应**:
```json
{
  "success": true,
  "message": "标记已读成功",
  "data": null
}
```
- **测试用例**:
  - 将未读通知标记为已读
  - 将已读通知标记为已读
  - 标记不存在的通知
  - 标记不属于当前用户的通知
  - 未登录用户尝试访问此接口

### 5 将所有通知标记为已读
- **URL**: `http://localhost:8080/api/notifications/read-all`
- **方法**: PUT
- **描述**: 将当前登录用户的所有未读通知标记为已读
- **请求头**: Authorization: Bearer {token}
- **响应**:
```json
{
  "success": true,
  "message": "已将 1 条通知标记为已读",
  "data": null
}
```
- **测试用例**:
  - 将多条未读通知标记为已读
  - 当没有未读通知时调用此接口
  - 未登录用户尝试访问此接口

### 6 删除通知
- **URL**: `http://localhost:8080/api/notifications/{id}`
- **方法**: DELETE
- **描述**: 删除指定通知
- **请求头**: Authorization: Bearer {token}
- **路径参数**:
  - `id`: 通知ID
- **响应**:
```json
{
  "success": true,
  "message": "删除成功",
  "data": null
}
```
- **测试用例**:
  - 删除已读通知
  - 删除未读通知
  - 删除不存在的通知
  - 删除不属于当前用户的通知
  - 未登录用户尝试访问此接口

### 7 获取通知设置
- **URL**: `http://localhost:8080/api/notifications/settings`
- **方法**: GET
- **描述**: 获取当前登录用户的通知设置
- **请求头**: Authorization: Bearer {token}
- **响应**:
```json
{
  "success": true,
  "message": "操作成功",
  "data": {
    "id": 1,
    "userId": 1,
    "emailNotify": true,
    "systemNotify": true,
    "createdAt": "2023-06-01T10:00:00",
    "updatedAt": "2023-06-01T10:00:00"
  }
}
```
- **测试用例**:
  - 获取已有设置的用户的通知设置
  - 获取没有设置的用户的通知设置（默认值）
  - 未登录用户尝试访问此接口

### 8 更新通知设置
- **URL**: `http://localhost:8080/api/notifications/settings`
- **方法**: PUT
- **描述**: 更新当前登录用户的通知设置
- **请求头**: Authorization: Bearer {token}
- **请求体**:
```json
{
  "emailNotify": false,
  "systemNotify": true
}
```
- **响应**:
```json
{
  "success": true,
  "message": "设置已更新",
  "data": {
    "id": 1,
    "userId": 1,
    "emailNotify": false,
    "systemNotify": true,
    "createdAt": "2023-06-01T10:00:00",
    "updatedAt": "2023-06-05T15:30:00"
  }
}
```
- **测试用例**:
  - 更新单个设置
  - 更新多个设置
  - 未登录用户尝试访问此接口