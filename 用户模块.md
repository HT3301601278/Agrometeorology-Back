##  用户模块
基础URL: `http://localhost:8080/api/users`

### 1 获取当前用户信息
- **URL**: `http://localhost:8080/api/users/me`
- **方法**: GET
- **描述**: 获取当前登录用户的详细信息
- **请求头**: Authorization: Bearer {token}
- **响应**:
```json
{
  "success": true,
  "message": "操作成功",
  "data": {
    "id": 1,
    "username": "张三",
    "email": "zhangsan@example.com",
    "nickname": "小张",
    "phone": "13800138000",
    "status": true,
    "createdAt": "2023-06-01T10:00:00"
  }
}
```
- **测试用例**:
  - 使用有效的令牌请求
  - 使用过期的令牌请求
  - 不提供令牌请求

### 2 更新用户信息
- **URL**: `http://localhost:8080/api/users/me`
- **方法**: PUT
- **描述**: 更新当前登录用户的个人信息
- **请求头**: Authorization: Bearer {token}
- **请求体**:
```json
{
  "nickname": "张三丰",
  "phone": "13900139000",
  "email": "zhangsanfeng@example.com"
}
```
- **响应**:
```json
{
  "success": true,
  "message": "更新成功",
  "data": {
    "id": 1,
    "username": "张三",
    "email": "zhangsanfeng@example.com",
    "nickname": "张三丰",
    "phone": "13900139000",
    "status": true,
    "createdAt": "2023-06-01T10:00:00"
  }
}
```
- **测试用例**:
  - 更新单个字段
  - 更新多个字段
  - 更新为已存在的邮箱

### 3 请求密码重置
- **URL**: `http://localhost:8080/api/auth/password/reset-request`
- **方法**: POST
- **描述**: 发送密码重置验证码到用户邮箱
- **请求参数**:
  - `email`: 用户注册的邮箱
- **响应**:
```json
{
  "success": true,
  "message": "验证码已发送，请检查您的邮箱",
  "data": null
}
```
- **测试用例**:
  - 为已注册邮箱请求重置密码
  - 为未注册邮箱请求重置密码

### 4 重置密码
- **URL**: `http://localhost:8080/api/auth/password/reset`
- **方法**: POST
- **描述**: 使用验证码重置密码
- **请求体**:
```json
{
  "email": "zhangsan@example.com",
  "code": "123456",
  "newPassword": "newPassword123"
}
```
- **响应**:
```json
{
  "success": true,
  "message": "密码重置成功",
  "data": null
}
```
- **测试用例**:
  - 使用正确的验证码重置密码
  - 使用错误的验证码重置密码
  - 使用过期的验证码重置密码
  - 设置过于简单的新密码

### 5 上传用户头像
- **URL**: `http://localhost:8080/api/files/avatar`
- **方法**: POST
- **描述**: 上传用户头像图片
- **请求体**: `multipart/form-data`形式
  - `file`: 图片文件（必须是图片格式）
- **响应**:
```json
{
  "success": true,
  "message": "头像上传成功",
  "data": "http://localhost:8080/api/uploads/avatar/avatar_550e8400-e29b-41d4-a716-446655440000.jpg"
}
```
- **测试用例**:
  - 上传有效的图片文件
  - 上传非图片类型的文件
  - 上传超过大小限制的文件
  - 不提供文件上传

### 6 更新用户头像
- **URL**: `http://localhost:8080/api/users/me/avatar`
- **方法**: PUT
- **描述**: 更新当前用户的头像URL
- **请求头**: Authorization: Bearer {token}
- **请求参数**:
  - `avatar`: 头像图片URL（通常是由上传接口返回的URL）
- **响应**:
```json
{
  "success": true,
  "message": "头像更新成功",
  "data": {
    "id": 1,
    "username": "张三",
    "email": "zhangsan@example.com",
    "nickname": "小张",
    "avatar": "http://localhost:8080/api/uploads/avatar/avatar_550e8400-e29b-41d4-a716-446655440000.jpg",
    "phone": "13800138000",
    "status": true,
    "createdAt": "2023-06-01T10:00:00"
  }
}
```
- **测试用例**:
  - 使用有效的图片URL更新头像
  - 使用无效的URL格式
  - 未提供授权令牌

### 7 获取用户信息（管理员）
- **URL**: `http://localhost:8080/api/users/{id}`
- **方法**: GET
- **描述**: 管理员获取指定用户的详细信息
- **请求头**: Authorization: Bearer {token}
- **路径参数**:
  - `id`: 用户ID
- **响应**:
```json
{
  "success": true,
  "message": "操作成功",
  "data": {
    "id": 2,
    "username": "李四",
    "email": "lisi@example.com",
    "nickname": "小李",
    "phone": "13700137000",
    "status": true,
    "createdAt": "2023-06-02T10:00:00"
  }
}
```
- **测试用例**:
  - 管理员获取存在的用户信息
  - 管理员获取不存在的用户信息
  - 普通用户尝试访问此接口

### 8 更新用户状态（管理员）
- **URL**: `http://localhost:8080/api/users/{id}/status`
- **方法**: PUT
- **描述**: 管理员冻结或解冻用户账户
- **请求头**: Authorization: Bearer {token}
- **路径参数**:
  - `id`: 用户ID
- **响应**:
```json
{
  "success": true,
  "message": "用户状态已启用",
  "data": {
    "id": 2,
    "username": "李四",
    "email": "lisi@example.com",
    "nickname": "小李",
    "phone": "13700137000",
    "status": true,
    "createdAt": "2023-06-02T10:00:00"
  }
}
```
- **测试用例**:
  - 管理员冻结活跃用户
  - 管理员解冻已冻结用户
  - 管理员冻结不存在的用户
  - 普通用户尝试访问此接口

### 9 删除用户（管理员）
- **URL**: `http://localhost:8080/api/users/{id}`
- **方法**: DELETE
- **描述**: 管理员删除指定用户
- **请求头**: Authorization: Bearer {token}
- **路径参数**:
  - `id`: 用户ID
- **响应**:
```json
{
  "success": true,
  "message": "用户删除成功",
  "data": null
}
```
- **测试用例**:
  - 管理员删除存在的用户
  - 管理员删除不存在的用户
  - 管理员尝试删除自己的账户
  - 普通用户尝试访问此接口