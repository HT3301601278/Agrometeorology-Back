##  用户模块
基础URL: `http://localhost:8080/api/users`

### 1 获取当前用户信息
- **URL**: `http://localhost:8080/api/users/me`
- **方法**: GET
- **描述**: 获取当前登录用户的详细信息
- **请求头**: Authorization: Bearer {token}
- **响应**:
```json
{
	"code": 200,
	"message": "操作成功",
	"data": {
		"id": 2,
		"username": "222",
		"password": "222",
		"nickname": "陈二",
		"email": "3301601278@qq.com",
		"avatar": "http://localhost:8080/api/uploads/avatar/avatar_a05d0d92-3113-4d0d-9e21-7644520a358a.png",
		"phone": "13900139000",
		"role": "USER",
		"status": true,
		"createdAt": "2025-04-21T15:42:10",
		"updatedAt": "2025-04-22T17:14:53"
	}
}
```
- **测试用例**:
  - 使用有效的令牌请求
  - 使用过期的令牌请求
  - 不提供令牌请求

### 2 更新用户信息
- **URL**: `http://localhost:8080/api/users/me`
- **方法**: PUT
- **描述**: 更新当前登录用户的个人信息
- **请求头**: Authorization: Bearer {token}
- **请求体**:
```json
{
    "nickname": "陈二",
    "phone": "13900139010",
    "email": "3301601278@qq.com",
    "avatar": "http://localhost:8080/api/uploads/avatar/avatar_a05d0d92-3113-4d0d-9e21-7644520a358a.png"
}
```
- **响应**:
```json
{
	"code": 200,
	"message": "更新成功",
	"data": {
		"id": 2,
		"username": "222",
		"password": "222",
		"nickname": "陈二",
		"email": "3301601278@qq.com",
		"avatar": "http://localhost:8080/api/uploads/avatar/avatar_a05d0d92-3113-4d0d-9e21-7644520a358a.png",
		"phone": "13900139010",
		"role": "USER",
		"status": true,
		"createdAt": "2025-04-21T15:42:10",
		"updatedAt": "2025-04-23T00:15:36.171603"
	}
}
```
- **测试用例**:
  - 更新单个字段
  - 更新多个字段
  - 更新为已存在的邮箱

### 3 请求密码重置
- **URL**: `http://localhost:8080/api/auth/password/reset-request`
- **方法**: POST
- **描述**: 发送密码重置验证码到用户邮箱
- **请求参数**:
  - `email`: 用户注册的邮箱
- **响应**:
```json
{
	"code": 200,
	"message": "验证码已发送，请检查您的邮箱",
	"data": null
}
```
- **测试用例**:
  - 为已注册邮箱请求重置密码
  - 为未注册邮箱请求重置密码

### 4 重置密码
- **URL**: `http://localhost:8080/api/auth/password/reset`
- **方法**: POST
- **描述**: 使用验证码重置密码
- **请求体**:
```json
{
  "email": "zhangsan@example.com",
  "code": "123456",
  "newPassword": "newPassword123"
}
```
- **响应**:
```json
{
  "code": 200,
  "message": "密码重置成功",
  "data": null
}
```
- **测试用例**:
  - 使用正确的验证码重置密码
  - 使用错误的验证码重置密码
  - 使用过期的验证码重置密码
  - 设置过于简单的新密码

### 5 上传用户头像
- **URL**: `http://localhost:8080/api/files/avatar`
- **方法**: POST
- **描述**: 上传用户头像图片
- **请求体**: `multipart/form-data`形式
  - `file`: 图片文件（必须是图片格式）
- **响应**:
```json
{
	"code": 200,
	"message": "头像上传成功",
	"data": "http://localhost:8080/api/uploads/avatar/avatar_a5ae8706-0285-459a-900a-a9a0e8f7b804.png"
}
```
- **测试用例**:
  - 上传有效的图片文件
  - 上传非图片类型的文件
  - 上传超过大小限制的文件
  - 不提供文件上传

### 6 获取用户信息（管理员）
- **URL**: `http://localhost:8080/api/users/{id}`
- **方法**: GET
- **描述**: 管理员获取指定用户的详细信息
- **请求头**: Authorization: Bearer {token}
- **路径参数**:
  - `id`: 用户ID
- **响应**:
```json
{
	"code": 200,
	"message": "操作成功",
	"data": {
		"id": 2,
		"username": "222",
		"password": "222",
		"nickname": "陈二",
		"email": "3301601278@qq.com",
		"avatar": "http://localhost:8080/api/uploads/avatar/avatar_ac8fcf0d-6f61-46fe-a18e-98dd3a9d8dc7.png",
		"phone": "13900139010",
		"role": "USER",
		"status": true,
		"createdAt": "2025-04-21T15:42:10",
		"updatedAt": "2025-04-23T11:45:44"
	}
}
```
- **测试用例**:
  - 管理员获取存在的用户信息
  - 管理员获取不存在的用户信息
  - 普通用户尝试访问此接口

### 7 更新用户状态（管理员）
- **URL**: `http://localhost:8080/api/users/{id}/status`
- **方法**: PUT
- **描述**: 管理员冻结或解冻用户账户
- **请求头**: Authorization: Bearer {token}
- **路径参数**:
  - `id`: 用户ID
- **响应**:
```json
{
	"code": 200,
	"message": "用户状态已冻结",
	"data": {
		"id": 1,
		"username": "111",
		"password": "111",
		"nickname": "系统管理员",
		"email": "admin@agro.org",
		"avatar": "http://localhost:8080/api/uploads/avatar/avatar_ac8fcf0d-6f61-46fe-a18e-98dd3a9d8dc7.png",
		"phone": null,
		"role": "ADMIN",
		"status": false,
		"createdAt": "2025-04-21T15:41:57",
		"updatedAt": "2025-04-23T18:05:41.3483677"
	}
}
```
- **测试用例**:
  - 管理员冻结活跃用户
  - 管理员解冻已冻结用户
  - 管理员冻结不存在的用户
  - 普通用户尝试访问此接口

### 8 删除用户（管理员）
- **URL**: `http://localhost:8080/api/users/{id}`
- **方法**: DELETE
- **描述**: 管理员删除指定用户
- **请求头**: Authorization: Bearer {token}
- **路径参数**:
  - `id`: 用户ID
- **响应**:
```json
{
	"code": 200,
	"message": "用户删除成功",
	"data": null
}
```
- **测试用例**:
  - 管理员删除存在的用户
  - 管理员删除不存在的用户
  - 管理员尝试删除自己的账户
  - 普通用户尝试访问此接口